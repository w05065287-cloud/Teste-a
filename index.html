<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>IA Docs Premium</title>

<style>
  body {
    font-family: Arial, sans-serif;
    padding: 20px;
    background: #f4f4f4;
  }

  h1 { text-align: center; }

  textarea, input, select, button {
    width: 100%;
    margin-top: 10px;
    padding: 12px;
    font-size: 15px;
  }

  button {
    cursor: pointer;
    background: #4f46e5;
    color: white;
    border: none;
    border-radius: 6px;
  }

  button:hover {
    opacity: 0.9;
  }

  .box {
    background: white;
    padding: 20px;
    border-radius: 10px;
    margin-top: 20px;
  }

  #juridico {
    border: 2px dashed red;
    display: none;
  }

  #planos {
    border: 2px solid #333;
  }

  .aviso {
    font-size: 13px;
    color: #555;
    background: #fff3cd;
    padding: 10px;
    border-radius: 8px;
  }

  .aviso-juridico {
    font-size: 12px;
    color: #a00;
    margin-top: 10px;
  }

  #output {
    white-space: pre-wrap;
  }

  @media print {
    button, select, input {
      display: none;
    }
    body {
      background: white;
    }
  }
</style>
</head>

<body>

<h1>üìÑ IA para Documentos</h1>
<p>Status do plano: <strong id="statusPlano">FREE</strong></p>

<p class="aviso">
‚ö†Ô∏è <strong>Aviso:</strong><br>
Conte√∫do gerado por IA pode conter erros ou imprecis√µes.
Sempre revise antes de usar oficialmente.
</p>

<div class="box">
  <label>üîë API Key do Google Gemini</label>
  <input id="apiKey" placeholder="Cole sua API Key aqui">

  <label>‚úçÔ∏è Texto</label>
  <textarea id="inputText" rows="8" placeholder="Digite o texto ou pedido"></textarea>

  <button onclick="processarIA()">Processar com IA</button>
  <button onclick="window.print()">Imprimir / Salvar PDF</button>
</div>

<div class="box">
  <h2>üì§ Resultado</h2>
  <div id="output">Aguardando...</div>
</div>

<!-- PLANOS -->
<div id="planos" class="box">
  <h2>üíé Planos Premium</h2>

  <div style="display:flex;gap:20px;flex-wrap:wrap">
    <div style="border:1px solid #aaa;padding:15px;border-radius:8px;width:200px">
      <h3>Plano Mensal</h3>
      <p><strong>R$ 19,99 / m√™s</strong></p>
      <button onclick="comprarPlano('mensal')">Assinar</button>
    </div>

    <div style="border:1px solid #aaa;padding:15px;border-radius:8px;width:200px">
      <h3>Plano Anual</h3>
      <p><strong>R$ 239,88 / ano</strong></p>
      <button onclick="comprarPlano('anual')">Assinar</button>
    </div>
  </div>
</div>

<!-- JUR√çDICO -->
<div id="juridico" class="box">
  <h2>‚öñÔ∏è Jur√≠dico Educacional (Premium)</h2>

  <select id="acaoJuridica">
    <option value="resumo">Resumo do texto</option>
    <option value="explicacao">Explicar em linguagem simples</option>
    <option value="organizacao">Organizar fatos e pedidos</option>
  </select>

  <button onclick="processarJuridico()">Processar Jur√≠dico</button>

  <p class="aviso-juridico">
  ‚ö†Ô∏è Este recurso √© educacional e n√£o substitui advogado ou decis√£o judicial.
  </p>
</div>

<script>
/* ======================
   CONTROLE DO SISTEMA
====================== */
const SISTEMA = {
  plano: "free"
};

function setPlano(plano) {
  SISTEMA.plano = plano;
  document.getElementById("statusPlano").innerText = plano.toUpperCase();
}

function comprarPlano(tipo) {
  setPlano("premium");
  document.getElementById("juridico").style.display = "block";
  document.getElementById("planos").style.display = "none";

  alert(
    tipo === "mensal"
      ? "Plano Mensal ativado!"
      : "Plano Anual ativado!"
  );
}

/* ======================
   IA NORMAL
====================== */
async function processarIA() {
  const texto = inputText.value.trim();
  const key = apiKey.value.trim();
  const output = document.getElementById("output");

  if (!texto || !key) {
    alert("Texto e API Key s√£o obrigat√≥rios");
    return;
  }

  output.innerText = "‚è≥ Gerando texto...";

  try {
    const res = await fetch(
      "https://generativelanguage.googleapis.com/v1/models/gemini-1.5-flash:generateContent?key=" + key,
      {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          contents: [
            { parts: [{ text: texto }] }
          ]
        })
      }
    );

    const data = await res.json();

    if (data.error) {
      output.innerText = "‚ùå Erro da IA: " + data.error.message;
      return;
    }

    output.innerText =
      data.candidates?.[0]?.content?.parts?.[0]?.text ||
      "‚ö†Ô∏è Sem resposta da IA.";

  } catch (e) {
    output.innerText = "‚ùå Erro de conex√£o: " + e.message;
  }
}

/* ======================
   IA JUR√çDICA (PREMIUM)
====================== */
async function processarJuridico() {
  if (SISTEMA.plano !== "premium") {
    alert("Recurso exclusivo do plano Premium");
    return;
  }

  const texto = inputText.value.trim();
  const key = apiKey.value.trim();
  const acao = acaoJuridica.value;
  const output = document.getElementById("output");

  if (!texto || !key) {
    alert("Texto e API Key s√£o obrigat√≥rios");
    return;
  }

  output.innerText = "‚è≥ Processando jur√≠dico...";

  const prompt =
`Voc√™ √© um assistente jur√≠dico educacional.
A√ß√£o: ${acao}
Texto:
${texto}`;

  try {
    const res = await fetch(
      "https://generativelanguage.googleapis.com/v1/models/gemini-1.5-flash:generateContent?key=" + key,
      {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          contents: [
            { parts: [{ text: prompt }] }
          ]
        })
      }
    );

    const data = await res.json();

    if (data.error) {
      output.innerText = "‚ùå Erro da IA: " + data.error.message;
      return;
    }

    output.innerText =
      data.candidates?.[0]?.content?.parts?.[0]?.text ||
      "‚ö†Ô∏è Sem resposta jur√≠dica.";

  } catch (e) {
    output.innerText = "‚ùå Erro de conex√£o: " + e.message;
  }
}
</script>

</body>
</html>
